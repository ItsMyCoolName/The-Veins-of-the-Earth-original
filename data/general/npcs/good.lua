--Veins of the Earth
--Zireael 2013-2015

local Talents = require("engine.interface.ActorTalents")

newEntity{
    define_as = "BASE_NPC_GOOD",
    type = "magical_beast",
    body = { INVEN = 10 },
    ai = "human_level", ai_state = { talent_in=3, },
    stats = { str=10, dex=10, con=10, int=10, wis=10, cha=10, luc=10 },
    combat = { dam= {1,6} },
    alignment = "Neutral Good",
    faction = "good",
    emote_anger = "I shall smite you!",
    resolvers.wounds()
}

--Magic circle against evil; immunity to poison, charm, and compulsion; scent, wild empathy
--Spell-likes: detect evil at will, 1/day greater teleport, cure moderate wounds; 3/day cure light wounds
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_UNICORN",
    image = "tiles/new/unicorn.png",
    display = 'q', color=colors.WHITE,
    desc = [[A beautiful unicorn.]],
    specialist_desc = [[Once a day, a unicorn can greater teleport anywhere within the bounds of its woodland home as a spell-like ability. Unicorns can also commune with woodland animals, like the wild empathy of a druid.]],
    uncommon_desc = [[A unicorn’s spiritual purity renders it immune to poison, charm, and compulsion, and it can detect evil at will. A unicorn’s horn retains healing properties even after being harvested. Unicorn horns fetch a high price, but only evil creatures would willingly hunt for or purchase such a prize.]],
    common_desc = [[A unicorn can apply the spell-like abilities of cure light wounds, cure moderate wounds, or neutralize poison once a day to any creature it touches with its horn. Unicorns speak Sylvan and Common. They usually shun contact with any creatures other than fey, but they occasionally allow themselves to be tamed by female humanoids who are pure of heart.]],
    base_desc = "The single horn adorning this white equine marks it as a unicorn, a proud defender of sylvan woodlands.",

    stats = { str=20, dex=17, con=21, int=10, wis=21, cha=24, luc=18 },
    combat = { dam= {1,8} },
    name = "unicorn",
    level_range = {5, nil}, exp_worth = 900,
    rarity = 15,
    max_life = resolvers.rngavg(40,45),
    hit_die = 4,
    challenge = 3,
    infravision = 4,
    combat_natural = 5,
    skill_jump = 16,
    skill_listen = 5,
    skill_movesilently = 5,
    skill_spot = 5,
    skill_survival = 2,
--  movement_speed_bonus = 0.88,
    movement_speed = 1.88,
    combat_attackspeed = 1.88,
    alignment = "Chaotic Good",
    resolvers.talents{ [Talents.T_ALERTNESS]=1 },
}

--Scent; spell-likes: At will—detect good and detect evil within a 60-foot radius.
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_PEGASUS",
    image = "tiles/mobiles/pegasus.png",
    display = 'q', color=colors.WHITE,
    desc = [[A beautiful winged horse.]],
    specialist_desc = [[A pegasus can be trained for use as a mount, though its trainer must win it over first. Because of this, pegasus eggs can fetch up to 2,000 gp on the open market, while a hatched foal is worth yet another 1,000 gp. A trained pegasus is absolutely faithful to its master, so long as that master shows no signs of a malevolent nature.]],
    uncommon_desc = [[At will, a pegasus can detect good and/or detect evil within twenty paces as spell-like abilities.]],
    common_desc = [[When driven to attack, pegasi bite and kick with their strong hooves, usually while diving past their foes. Pegasi mate for life, and mated pairs typically coordinates their attacks. Pegasi cannot speak, but they do understand Common.]],
    base_desc = [[This magnificent winged horse is a pegasus, an intelligent beast that often serves the forces of good.]],

    stats = { str=18, dex=15, con=16, int=10, wis=13, cha=13, luc=12 },
    name = "pegasus",
    level_range = {5, 25}, exp_worth = 900,
    rarity = 15,
    max_life = resolvers.rngavg(30,35),
    hit_die = 4,
    challenge = 3,
    infravision = 4,
    combat_natural = 2,
    skill_diplomacy = 2,
    skill_listen = 7,
    skill_sensemotive = 7,
    skill_spot = 7,
    alignment = "Chaotic Good",
    fly = true,
--  movement_speed_bonus = 1,
    movement_speed = 2,
    combat_attackspeed = 2,
    resolvers.talents{ [Talents.T_IRON_WILL]=1 },
}

--Fly 60 ft.; magic circle against evil; pounce, rake 1d6, spells as Clr7; Blind-Fight
--Spell-likes: 2/day—greater invisibility (self only); 1/day—dimension door.
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_LAMMASU",
    image = "tiles/mobiles/cat.png",
    display = 'c', color=colors.GOLD,
    desc = [[A creature with a lion's body and a humanoid head with an impressive headdress.]],
    stats = { str=23, dex=12, con=17, int=16, wis=17, cha=14, luc=12 },
    name = "lammasu",
    level_range = {10, 25}, exp_worth = 2400,
    rarity = 15,
    max_life = resolvers.rngavg(55,60),
    hit_die = 7,
    challenge = 8,
    infravision = 4,
    combat_natural = 9,
    skill_concentration = 10,
    skill_diplomacy = 2,
    skill_knowledge = 10,
    skill_listen = 10,
    skill_sensemotive = 10,
    skill_spot = 12,
    alignment = "Lawful Good",
    fly = true,
--  movement_speed_bonus = 1,
    movement_speed = 2,
    combat_attackspeed = 2,
    resolvers.talents{ [Talents.T_IRON_WILL]=1 },
}


--Faction fit based on World's Greatest Dungeon
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_EAGLE",
    display = 'e', color=colors.YELLOW,
    desc = [[A proud eagle.]],
    uncommon_desc = [[Giant eagles are highly prized as aerial steeds, and as such their eggs and young can fetch thousands of gold pieces. Some societies outlaw the trading in these sentient creatures as it is considered slavery, and giant eagles will often fight to the death to protect their young. Many giant eagles have been persuaded to act as mounts however, when the arrangement has been a beneficial one for both parties.]],
    common_desc = [[In combat, giant eagles typically use tactics similar to their smaller cousins, diving unseen from a great height to attack their prey. Though not the most agile of flyers, their keen senses allow them to react quickly to danger and they have an uncanny knack for evading magical effects such as fireballs. Giant eagles speak Common and Auran.]],
    base_desc = [[This spectacular bird is a giant eagle, a massive, intelligent cousin of the more common golden eagle.]],

    stats = { str=18, dex=17, con=12, int=10, wis=14, cha=10, luc=12 },
    name = "giant eagle", color=colors.YELLOW,
    image = "tiles/mobiles/eagle.png",
    level_range = {5, 15}, exp_worth = 900,
    rarity = 8,
    max_life = resolvers.rngavg(25,30),
    hit_die = 4,
    challenge = 3,
    combat_natural = 2,
    skill_listen = 2,
    skill_spot = 13,
    skill_survival = 1,
--  movement_speed_bonus = 1.66,
    movement_speed = 2.66,
    combat_attackspeed = 2.66,
    fly = true,
    alignment = "Neutral Good",
}

--Fly 80 ft.; pounce, rake 1d6
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_GRIFFON",
    image = "tiles/mobiles/griffon.png",
    display = 'B', color=colors.GOLD,
    desc = [[A cross between a lion and an eagle.]],
    specialist_desc = [[A griffon can be trained as a mount, though not without effort. For this reason, griffon eggs have been known to fetch 3,500 gp apiece on the open market, while hatchlings can garner twice as much.]],
    uncommon_desc = [[When griffons attack, they swoop down from the sky with a piercing screech, latching onto prey with their talons and dragging it down as they rake its flesh. Griffons always attack horses in preference to other prey.]],
    common_desc = [[Griffons are dimly intelligent. Like both lions and eagles, they are proud and fierce predators. They feed on all manner of prey but particularly crave horseflesh. A griffon cannot speak, but it usually understands Common.]],
    base_desc = [[This fantastic creature has the head, wings, and claws of a great eagle and the body of a lion, clearly identifying it as a griffon.]],

    stats = { str=18, dex=15, con=16, int=5, wis=13, cha=8, luc=12 },
    combat = { dam= {2,6} },
    name = "griffon",
    level_range = {10, 25}, exp_worth = 1200,
    rarity = 15,
    max_life = resolvers.rngavg(60,65),
    hit_die = 7,
    challenge = 4,
    infravision = 4,
    combat_natural = 5,
    skill_jump = 4,
    skill_listen = 5,
    skill_spot = 9,
    resolvers.talents{ [Talents.T_IRON_WILL]=1 },
    fly = true,
--  movement_speed_bonus = 1.33,
    movement_speed = 2.33,
    combat_attackspeed = 2.33,
}

--Fly 70 ft;
newEntity{ base = "BASE_NPC_GOOD",
    define_as = "BASE_NPC_OWL_GIANT",
    image = "tiles/mobiles/owl.png",
    display = 'b', color=colors.BROWN,
    desc = [[A giant owl.]],
    uncommon_desc = [[Giant owl young can be trained to accept a rider. Giant owl eggs thus demand exorbitant prices on the open market.]],
    common_desc = [[A giant owl can see extremely well by moonlight. They speak Sylvan and Common.]],
    base_desc = [[This massive night hunter is a giant owl, a noble creature as intelligent as a human. It can see in the dark.]],

    stats = { str=18, dex=17, con=12, int=10, wis=14, cha=10, luc=12 },
    name = "giant owl",
    level_range = {5, 25}, exp_worth = 1500,
    rarity = 15,
    max_life = resolvers.rngavg(25,30),
    hit_die = 4,
    --4 in Incursion, bumped!
    challenge = 5,
    infravision = 2,
    combat_natural = 2,
    skill_knowledge = 2,
    skill_listen = 15,
    skill_movesilently = 5,
    skill_spot = 8,
--  movement_speed_bonus = 1.33,
    movement_speed = 2.33,
    combat_attackspeed = 2.33,
    alignment = "Neutral Good",
    fly = true,
    resolvers.talents{ [Talents.T_ALERTNESS]=1 },
}
